<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generative Layer Kit by KB</title>

    <style>

        @font-face {
            font-family: "Montserrat";
            src: url("fonts/Montserrat/Montserrat-VariableFont_wght.ttf") format("truetype"),
                url("fonts/Merriweather_Sans/MerriweatherSans-Italic-VariableFont_wght.ttf") format("truetype");
            font-weight: 100 1000;
        }

        html, body {
            padding: 0px;
            margin: 0px;
            overflow: hidden;
        }

        body {
            /*background-image: linear-gradient(to right, #141e30, #243b55);*/
            /*background-image: linear-gradient(to right, #0f0c29, #302b63, #24243e);*/
            /*background-image: linear-gradient(to right, #434343 0%, black 100%);*
            /*background-image: linear-gradient( 95.2deg, rgba(173,252,234,1) 26.8%, rgba(192,229,246,1) 64% );*/
            /*background-image: linear-gradient(to right, #8e2de2, #4a00e0);*/

            background-color: rgba(0, 0, 0, 0.9);
        }

        .container {
            display: grid;

        }
        .canvas-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        canvas {
            display: flex;
            justify-content: center;
            align-items: center;
            border: 5px solid rgb(92, 92, 92);
            border-radius: 15px;
            margin: 20px 0px 30px 0px;
            width: 500px;
            height: 500px;
            background-color: grey;
        }

        .wrapper {
            display: grid;
            justify-content: center;
            align-items: center;
            height: 800px;
            text-align: center;
        }

        .wrapper > div:nth-child(1) {
            margin-top: 20px;
        }





/*--------- Button -------------------------------------------*/

        .button-82-pushable {
            position: relative;
            border: none;
            background: transparent;
            padding: 0;
            cursor: pointer;
            outline-offset: 4px;
            transition: filter 250ms;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
        }

        .button-82-shadow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 12px;
            background: hsl(0deg 0% 0% / 0.25);
            will-change: transform;
            transform: translateY(2px);
            transition:
                transform
                600ms
                cubic-bezier(.3, .7, .4, 1);
        }

        .button-82-edge {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 12px;
            background: linear-gradient(
                to left,
                hsl(340deg 100% 16%) 0%,
                hsl(340deg 100% 32%) 8%,
                hsl(340deg 100% 32%) 92%,
                hsl(340deg 100% 16%) 100%
        );
        }

        .button-82-front {
            display: block;
            position: relative;
            padding: 12px 27px;
            border-radius: 12px;
            font-size: 1.1rem;
            color: white;
            background: hsl(345deg 100% 47%);
            will-change: transform;
            transform: translateY(-4px);
            transition:
                transform
                600ms
                cubic-bezier(.3, .7, .4, 1);
        }

        @media (min-width: 768px) {
            .button-82-front {
                font-size: 1.25rem;
                padding: 12px 42px;
            }
        }

        .button-82-pushable:hover {
            filter: brightness(110%);
            -webkit-filter: brightness(110%);
        }

        .button-82-pushable:hover .button-82-front {
            transform: translateY(-6px);
            transition:
                transform
                250ms
                cubic-bezier(.3, .7, .4, 1.5);
        }

        .button-82-pushable:active .button-82-front {
            transform: translateY(-2px);
            transition: transform 34ms;
        }

        .button-82-pushable:hover .button-82-shadow {
            transform: translateY(4px);
            transition:
                transform
                250ms
                cubic-bezier(.3, .7, .4, 1.5);
        }

        .button-82-pushable:active .button-82-shadow {
            transform: translateY(1px);
            transition: transform 34ms;
        }

        .button-82-pushable:focus:not(:focus-visible) {
            outline: none;
        }

/*--------- Button End -------------------------------------------*/





        h1 {
            color: rgb(255, 255, 255);
            text-shadow: 1py solid rgb(141, 141, 141);
        }

        * {
            font-family: "Montserrat";
            font-weight: 700;
        }

        @media (min-width: 480px) and (max-width: 600px) {

            canvas {
            width: 400px;
            height: 400px;
            }

            .wrapper {
                display: grid;
                justify-content: center;
                align-items: center;
                height: 700px;
                text-align: center;
            }

        }

        @media (min-width: 350px) and (max-width: 479px) {

            canvas {
                width: 300px;
                height: 300px;
            }

            .wrapper {
                display: grid;
                justify-content: center;
                align-items: center;
                height: 550px;
                text-align: center;
            }

            h1 {
                font-size: 25px;
            }

        }

        @media (min-width: 300px) and (max-width: 349px) {

            canvas {
                width: 270px;
                height: 270px;
            }

            .wrapper {
                display: grid;
                justify-content: center;
                align-items: center;
                height: 500px;
                text-align: center;
            }

            h1 {
                font-size: 20px;
            }
        }

        @media (min-width: 265px) and (max-width: 299px) {

            canvas {
                width: 240px;
                height: 240px;
            }

            .wrapper {
                display: grid;
                justify-content: center;
                align-items: center;
                height: 450px;
                text-align: center;
            }

            h1 {
                font-size: 18px;
            }
        }

        @media (min-width: 0px) and (max-width: 264px) {

            canvas {
                width: 200px;
                height: 200px;
            }

            .wrapper {
                display: grid;
                justify-content: center;
                align-items: center;
                height: 400px;
                text-align: center;
            }

            h1 {
                font-size: 15px;
            }
        }

    </style>
</head>
<body>


    <div class="container">
        <div class="wrapper">

            <div>
                <h1>Chad Dogira Yacht Club</h1>
            </div>
            <div class="canvas-container">
                <canvas id="canvas"></canvas>
            </div>
            <div id="button-container">
                <button class="button-82-pushable" role="button">
                    <span class="button-82-shadow"></span>
                    <span class="button-82-edge"></span>
                    <span class="button-82-front text">
                      Generate
                    </span>
                </button>
            </div>
            
        </div>
    </div>


    <script>

        let button = document.getElementsByClassName("button-82-pushable")[0]

        const canvas = document.getElementById("canvas")
        const context = canvas.getContext("2d")
        canvas.width = 500
        canvas.height = 500

        let l1 = new Image()
        l1.crossOrigin = "Anonymous"
        let l2 = new Image()
        l2.crossOrigin = "Anonymous"
        let l3 = new Image()
        l3.crossOrigin = "Anonymous"
        let l4 = new Image()
        l4.crossOrigin = "Anonymous"
        let l5 = new Image()
        l5.crossOrigin = "Anonymous"
        let l6 = new Image()
        l6.crossOrigin = "Anonymous"
        let l7 = new Image()
        l7.crossOrigin = "Anonymous"
 

        button.addEventListener("click", update)

        function update() {

                context.clearRect(0, 0, canvas.width, canvas.height)

                ////// Layer 1 //////////////////////////////

                random1 = Math.floor(Math.random() * 90 + 1)

                l1.src =  "img/CDYC Layers/Layer1/" + random1 + ".png"

                ////// Layer 1 End //////////////////////////


                ////// Layer 2 //////////////////////////////

                random2 = Math.floor(Math.random() * 70 + 1)

                l2.src = "img/CDYC Layers/Layer2/G" + random2 + ".png"

                ////// Layer 2 End //////////////////////////


                ////// Layer 3 //////////////////////////////

                random3 = Math.floor(Math.random() *  43 + 1)

                l3.src = "img/CDYC Layers/Layer3/" + random3 + ".png"

                ////// Layer 3 End //////////////////////////


                ////// Layer 4 //////////////////////////////

                random4 = Math.floor(Math.random() * 50 + 1)

                l4.src = "img/CDYC Layers/Layer4/" + random4 + ".png"

                ////// Layer 4 End //////////////////////////


                ////// Layer 5 //////////////////////////////

                random5 = Math.floor(Math.random() * 16 + 1)

                l5.src = "img/CDYC Layers/Layer5/" + random5 + ".png"

                ////// Layer 5 End //////////////////////////


                ////// Layer 6 //////////////////////////////

                random6 = Math.floor(Math.random() * 13 + 1)

                l6.src = "img/CDYC Layers/Layer6/" + random6 + ".png"

                ////// Layer 6 End //////////////////////////


                ////// Layer 7 //////////////////////////////

                random7 = Math.floor(Math.random() * 30 + 1)

                l7.src = "img/CDYC Layers/Layer7/" + random7 + ".png"

                ////// Layer 7 End ////////////////////////// 

                /*console.log(random1)
                console.log(random2)
                console.log(random3)
                console.log(random4)
                console.log(random5)
                console.log(random6)
                console.log(random7)*/


                function build() {

                context.drawImage(l1, 0, 0, 500, 500)
                context.drawImage(l2, 0, 0, 500, 500)
                context.drawImage(l3, 0, 0, 500, 500)
                context.drawImage(l4, 0, 0, 500, 500)
                context.drawImage(l5, 0, 0, 500, 500)
                context.drawImage(l6, 0, 0, 500, 500)
                context.drawImage(l7, 0, 0, 500, 500)

                //console.log(l1, l2, l3, l4, l5)
                }


                l1.onload = function() {
                    build()
                }

                l2.onload = function() {
                    build()
                }

                l3.onload = function() {
                    build()
                }

                l4.onload = function() {
                    build()
                }

                l5.onload = function() {
                    build()
                }   

                l6.onload = function() {
                    build()
                }

                l7.onload = function() {
                    build()
                }
        }


        function downloadCanvas() {  
            
            let image = canvas.toDataURL() 
        
            let tmpLink = document.createElement( "a" )  
            tmpLink.download = "Chad Dogira.png"
            tmpLink.href = image  
        
            document.body.appendChild( tmpLink )  
            tmpLink.click()
            document.body.removeChild( tmpLink ) 
        }

        canvas.addEventListener("click", downloadCanvas)

        //console.log(image, tmpLink)


        

    </script>
    
</body>
</html>